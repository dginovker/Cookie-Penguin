[gd_scene load_steps=15 format=3 uid="uid://cryp8mruwlu44"]

[ext_resource type="Shader" uid="uid://b1th5lxhjq71m" path="res://Scenes/3dWorld/ground8_layers.gdshader" id="1_yme6d"]
[ext_resource type="Texture2D" uid="uid://cwlsek0dtn4xq" path="res://Scenes/3dWorld/liquid.png" id="2_hcau4"]
[ext_resource type="Texture2D" uid="uid://ujd37qctf5k1" path="res://Scenes/3dWorld/mask0.png" id="3_5q6v3"]
[ext_resource type="Texture2D" uid="uid://bbdcujijqfsg4" path="res://Scenes/3dWorld/mask1.png" id="4_u2lvf"]
[ext_resource type="Texture2D" uid="uid://d0d16afklm1ka" path="res://Scenes/3dWorld/grass.png" id="5_u2lvf"]
[ext_resource type="Texture2D" uid="uid://mp7agt5p56h1" path="res://Scenes/3dWorld/sand.png" id="6_w5y2v"]
[ext_resource type="Texture2D" uid="uid://5xvha578vlau" path="res://Scenes/3dWorld/rock.png" id="7_u3uen"]
[ext_resource type="Shader" uid="uid://8wefxkplyx0k" path="res://Scenes/3dWorld/liquidshader.gdshader" id="8_w5y2v"]

[sub_resource type="PlaneMesh" id="PlaneMesh_tcky0"]
size = Vector2(256, 256)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_w5y2v"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_u3uen"]
seamless = true
noise = SubResource("FastNoiseLite_w5y2v")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_r8vgj"]
render_priority = 0
shader = ExtResource("1_yme6d")
shader_parameter/t0 = ExtResource("5_u2lvf")
shader_parameter/t1 = ExtResource("6_w5y2v")
shader_parameter/t2 = ExtResource("7_u3uen")
shader_parameter/detail_tex = SubResource("NoiseTexture2D_u3uen")
shader_parameter/mask0 = ExtResource("3_5q6v3")
shader_parameter/mask1 = ExtResource("4_u2lvf")
shader_parameter/liquid_mask = ExtResource("2_hcau4")
shader_parameter/tiling0 = Vector3(3, 3, 3)
shader_parameter/tiling1 = Vector3(3, 3, 3)
shader_parameter/detail_tiling = 14.0
shader_parameter/detail_mix = 0.3
shader_parameter/map_origin = Vector2(0, 0)
shader_parameter/ppm = 1.0
shader_parameter/mask_soften = 1.0

[sub_resource type="PlaneMesh" id="PlaneMesh_u3uen"]
size = Vector2(256, 256)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ypbem"]
render_priority = 0
shader = ExtResource("8_w5y2v")
shader_parameter/liquid_mask = ExtResource("2_hcau4")
shader_parameter/map_origin = Vector2(0, 0)
shader_parameter/ppm = 1.0
shader_parameter/mask_soften = 1.0
shader_parameter/tile = 2.5
shader_parameter/scroll = Vector2(0.05, 0.03)
shader_parameter/deep_color = Vector3(0.02, 0.12, 0.18)
shader_parameter/shallow_color = Vector3(0.12, 0.28, 0.35)

[node name="WorldMap" type="Node3D"]

[node name="GroundMeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 128, 0, 128)
mesh = SubResource("PlaneMesh_tcky0")
surface_material_override/0 = SubResource("ShaderMaterial_r8vgj")

[node name="LiquidMeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 128, -0.4, 128)
mesh = SubResource("PlaneMesh_u3uen")
surface_material_override/0 = SubResource("ShaderMaterial_ypbem")
